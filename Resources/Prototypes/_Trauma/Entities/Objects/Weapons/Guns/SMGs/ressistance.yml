- type: entity
  parent: [ BaseItem, BaseRevMajorContraband ]
  id: WeaponSMGResistance
  name: resistance
  description: A small and innaccurate gun, cannot hit anything but at least it has a magazine.
  suffix: Full
  components:
  - type: Sprite
    sprite: _Trauma/Objects/Weapons/Guns/SMGs/resistance.rsi
    layers:
    - state: icon
      map: ["enum.GunVisualLayers.Base"]
  - type: Item
    size: Small
    shape:
    - 0,0,1,0
    - 0,1,0,1
  - type: AmmoCounter
  - type: Gun
    minAngle: 10
    maxAngle: 20
    fireRate: 6
    burstFireRate: 12
    burstCooldown: 0.5
    shotsPerBurst: 3
    angleIncrease: 3
    angleDecay: 16
    selectedMode: Burst
    availableModes:
    - Burst
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/smg.ogg
    defaultDirection: 1, 0
  - type: ChamberMagazineAmmoProvider
    soundRack:
      path: /Audio/Weapons/Guns/Cock/smg_cock.ogg
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        startingItem: MagazinePistolSubMachineGun
        insertSound: /Audio/Weapons/Guns/MagIn/smg_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/smg_magout.ogg
        priority: 2
        whitelist:
          tags:
            - MagazinePistolSubMachineGun
        whitelistFailPopup: gun-magazine-whitelist-fail
      gun_chamber:
        name: Chamber
        startingItem: CartridgePistol
        priority: 1
        whitelist:
          tags:
            - CartridgePistol
  - type: ContainerContainer
    containers:
      gun_magazine: !type:ContainerSlot
      gun_chamber: !type:ContainerSlot
  - type: EmitSoundOnPickup
    sound:
      collection: SMGPickUp
  - type: EmitSoundOnDrop
    sound:
      collection: SMGDrop
  - type: EmitSoundOnLand
    sound:
      collection: SMGDrop
  - type: Multishot
    missChance: 0.4
    spreadMultiplier: 3
    spreadAddition: 50
  - type: AltFireMelee
    attackType: Heavy
  - type: MeleeWeapon
    damage:
      types:
       Blunt: 10
    angle: 0
    wideAnimationRotation: 90
    soundHit:
      collection: MetalThud

- type: entity
  parent: WeaponSMGResistance
  id: WeaponSMGResistanceEmpty
  suffix: Empty
  components:
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        insertSound: /Audio/Weapons/Guns/MagIn/smg_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/smg_magout.ogg
        priority: 2
        whitelist:
          tags:
            - MagazinePistolSubMachineGun
        whitelistFailPopup: gun-magazine-whitelist-fail
      gun_chamber:
        name: Chamber
        priority: 1
        whitelist:
          tags:
            - CartridgePistol
  - type: Construction
    deconstructionTarget: null
    graph: RevResistance
    node: RevResistance
