- type: entity
  parent: BaseItem
  id: RevDropPodTraps
  name: drop pod beacon (caltrop mold)
  description: Hacks a nearby shipping pod containing needed items and reroutes it to your location.
  components:
  - type: Sprite
    sprite: _Trauma/Objects/Revs/droppodbeacon.rsi
    state: icon
  - type: Item
    size: Small
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface
  - type: Damageable
    damageContainer: Inorganic
  - type: OnUseTimerTrigger
    delay: 0.9
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 50
      behaviors:
      - !type:SpawnEntitiesBehavior
        offset: 0
        spawn:
          SpawnPodRevTraps:
            min: 1
            max: 1
    - trigger:
        !type:DamageTrigger
        damage: 50
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: TwoStageTrigger
    triggerDelay: 1
    components:
      - type: DamageOverTime
        damage:
          types:
            Slash: 50
        interval: 0.1
        ignoreResistances: true
      #- type: AnchorOnTrigger - reactivate final build

- type: entity
  id: SpawnPodRevTraps
  categories: [ HideSpawnMenu ]
  name: SpawnSupplyRevTraps
  parent: SpawnSupplyEmpty
  components:
  - type: SpawnOnDespawn
    prototype: BlueprintCaltrops
